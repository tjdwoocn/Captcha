{% load static %}
<!doctype html>
<html lang="en">
   <head>
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/simple-keyboard@latest/build/css/index.css">

      <!-- Required meta tags -->
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <!-- Bootstrap CSS -->
      <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-F3w7mX95PdgyTmZZMECAngseQB83DfGTowi0iMjiWaeVhAn4FJkqJByhZMI3AhiU" crossorigin="anonymous">
      <title>CAPTCHA</title>
      <style>
         img {
            display: block;
            margin: 0px auto;
         }
         .hidden_div{
            opacity:0;
            transition: all 0.9s;
            height: 0%;
         }
         .hidden_div:hover {
            opacity:100;
            height: 100%;
         }
         table {
            width: 100%;
            margin: 0px auto;
            margin-left: auto;
            margin-right: auto;
         }
         #wrapper{
            width: 30px;
            height:30px;
            position:relative;
         }
         #refresh_btn{
            width:100%;
            height:100%;
            position:absolute;
            background:none;
            padding:15px;
         }
         #refresh_btn_img{
            width: 30px;
            height:30px;
         }
         input::placeholder {
            color:rgb(168, 168, 168);
            font-weight: bold;
         }
         .btn btn-primary{
            transition-duration: 0.4s;
         }
         .button1{
            box-shadow: 0 3px 10px 0 #d1b778, 0 2px 12px 0 #c1ac81;
         }

      </style>
   </head>
   <body>
      <div><img src="/static/images/logo/{{logo}}.jpg" width="20%", height="10%" class="img_logo" style='display:block; margin:100px auto; margin-bottom:30px;'/></div>
      <div class="container">
         <form action="{% url 'submit' %}" method='post'>
            {% csrf_token %}
            <!-- <table style="border: 1px solid rgb(161, 161, 161); width: 400px; height: 80px; ">
               <tr>
                  <td style="text-align:center;"><input type="checkbox" style='width:30px; height:30px; vertical-align: middle;' name="I'm not a robot" id="cb1" onclick="toggleBoxVisibility()"/></td>
                  <td>
                     <label class="form-check-label" for="exampleCheck1" style='text-align:center; vertical-align:top; font-size:20px; font-weight:bold;'> I'm not a robot </label>
                  </td>
                  <td><img src="/static/images/logo/recaptcha_logo.png" width="80", height="80" class="capt_logo"/></td>
               </tr>
            </table> -->
            <br>
            <div class="hidden_div" style="width:100%; height:100%;">
               <table class"hidden_table" style="border: 2px solid rgb(226, 226, 226); width: 70%; height: 100%; ">
                  <tr>
                     <td>
                        <img src="/static/images/logo/info_icon.png" width="30px", height="30px" style='margin-right: 20px; margin-left: 20px; margin-top:15px;' class="info_icon"/>
                     </td>
                     <td style='color: rgb(112, 111, 111); font-size:23px;font-weight:bold;padding-top:10px;'>Enter the characters you see below</td>
                  </tr>
                  <tr>
                     <td></td>
                     <td style='color: rgb(112, 111, 111); font-weight:bold; padding-bottom:10px;font-size:17px;'>Sorry, we just need to make sure you're not a robot. For best results, please make sure your browser is accepting cookies.</td>
                  </tr>
               </table>
               <br>
               <table class"hidden_table2" style="border: 2px solid rgb(226, 226, 226); width: 70%; height: 500px;">
                  <tr>
                     <td>
                        <table style="border: 2px solid rgb(226, 226, 226); width: 95%; height: 300px; margin:20px auto;">
                           <tr>
                              <td style='color: rgb(109, 109, 109);text-align:left;font-weight:bold; vertical-align:middle; font-size:23px; padding:10px;'>Type the characters you see in this image:</td>
                           </tr>
                           <tr>
                              <td><img src="{{capt}}" width="95%", height="240" class="capt_img"/></td>
                           </tr>
                           <tr>
                              <td style='text-align:center; vertical-align:middle;'>
                                 <input type="text" style=' margin:20px; border:2px solid #f3bf7b; width:50%; height:50px; font-size:20px;' class="input" name="captcha" size=100 maxlength=40 placeholder=" Type characters" onfocus="this.placeholder=''" onblur="this.placeholder='Type characters'">
                              </td>
                           </tr>
                           <!-- <tr>               
                              <td><div class="simple-keyboard"></div>
                              <script src="https://cdn.jsdelivr.net/npm/simple-keyboard@latest/build/index.js"></script>
                              <script src="src/index.js"></script>
                              </td>
                           </tr> -->
                           <tr>
                              <!-- <td>
                                 <input type="button" style="width:150px; height:150px; background-image:url('/static/images/refresh_button.png')"; title="Cant read? Try different words."  id="refreshImage" >
                                 </td> -->
                              <!-- <td id='wrapper'>
                                 <button id='refresh_btn'></button>
                                 <img id='refresh_btn_img' src="/static/images/refresh_button.png" alt="">Try a new code
                                 </td> -->
                           </tr>
                        </table>
                     </td>
                  </tr>
                  <tr>
                     <td style='text-align:center; padding-bottom:20px;'>
                        <button type="submit" class="btn btn-primary button1" style='background:#fad270;border:1px solid #c1ac81;color:rgb(85, 84, 84);font-weight:bold; width:40%; height:100%; border-radius:5px;'>Continue shopping</button>
                     </td>
                  </tr>
               </table>
               <br>
               <!-- <input class="inputs" placeholder="Tap on the virtual keyboard to start" /> -->
                  <div style="width:50%; margin-left:auto; margin-right:auto; margin-bottom:300px;" class="simple-keyboard"></div>
                  <script src="https://cdn.jsdelivr.net/npm/simple-keyboard@latest/build/index.js"></script>
                  <script src="src/index.js"></script>
            </div>
         </form>
      </div>
      <script>
         var canvas = document.getElementById("myCanvas");
         var ctx = canvas.getContext("2d");
         ctx.font = "30px Comic Sans MS";
         ctx.fillStyle = "green";
         ctx.textBaseline = "middle";
         ctx.textAlign = "center";
         ctx.fillText("{{capt}}", canvas.width/2, canvas.height/2);
      </script>
      <script>
         const Keyboard = window.SimpleKeyboard.default;

         const myKeyboard = new Keyboard({
         onChange: input => onChange(input),
         onKeyPress: button => onKeyPress(button)
         });
         
         
         function onChange(input) {
         document.querySelector(".input").value = input;
         console.log("Input changed", input);
         }
         
         
         function onKeyPress(button) {
         console.log("Button pressed", button);
         }
      </script>

      <!-- <script>
         var checkbox = document.querySelector("input[type=checkbox]");
         const box = document.querySelector('.hidden_div');
         
         checkbox.addEventListener('change', function() {
           if (this.checked) {
             box.classList.toggle('act');
             document.getElementById("cb1").disabled="disabled";
         
           }
           else{
             document.getElementById("cb1").disabled=False;
         
           }
         });
      </script> -->

      {% comment %} <script>
         function toggleBoxVisibility(){
           if (document.getElementById("cb1").checked == true){
             document.getElementById("hidden_div").style.visibility="visible";
             document.getElementById("cb1").disabled="disabled";
         
           }
           else{
             document.getElementById("hidden_div").style.visibility="hidden";
           }
         }
      </script> {% endcomment %}

      <!-- Optional JavaScript; choose one of the two! -->
      <!-- Option 1: Bootstrap Bundle with Popper -->
      <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-/bQdsTh/da6pkI1MST/rWKFNjaCP5gBSY4sEBT38Q/9RBh9AH40zEOg7Hlq2THRZ" crossorigin="anonymous"></script>
      <!-- Option 2: Separate Popper and Bootstrap JS -->
      <!--
         <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.3/dist/umd/popper.min.js" integrity="sha384-W8fXfP3gkOKtndU4JGtKDvXbO53Wy8SZCQHczT5FMiiqmQfUpWbYdTil/SxwZgAN" crossorigin="anonymous"></script>
         <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/js/bootstrap.min.js" integrity="sha384-skAcpIdS7UcVUC05LJ9Dxay8AXcDYfBJqt1CJ85S/CFujBsIzCIv+l9liuYLaMQ/" crossorigin="anonymous"></script>
         -->
   </body>
</html>