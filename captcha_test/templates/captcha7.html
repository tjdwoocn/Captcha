{% load static %}
<!doctype html>
<html lang="en">
   <head>
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/simple-keyboard@latest/build/css/index.css">

      <!-- Required meta tags -->
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <!-- Bootstrap CSS -->
      <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-F3w7mX95PdgyTmZZMECAngseQB83DfGTowi0iMjiWaeVhAn4FJkqJByhZMI3AhiU" crossorigin="anonymous">
      <title>CAPTCHA</title>
      <style>
         img {
            display: block;
            margin: 0px auto;
         }
         table {
            margin: 0px auto;
         }
         #img_table td{
            border:none;
         }
         {% comment %} .hidden_div{
            opacity:0;
            transition: all 0.9s;
            height: 0%;
         }
         .hidden_div:hover {
            opacity:100;
            height: 100%;
         } {% endcomment %}
         .hidden_div{
            animation-duration: 1s;
            animation-name: autoplay1
         }
         @keyframes autoplay1 {
            from {
               opacity:0;
            }

            to {
               opacity: 100;
            }
         }
      </style>
   </head>
   <body>
      <div><img src="/static/images/logo/{{logo}}.jpg" class="img_logo" style='margin-left:auto; margin-right:auto;width:27%; display:block; margin-top:150px; margin-bottom:1%;'/></div>
      <div class="hidden_div">
         <form action="{% url 'submit' %}" method='post'>
            {% csrf_token %}
            <!-- <table style="border: 1px solid rgb(161, 161, 161); width: 400px; height: 80px; ">
               <tr>
                  <td style="text-align:center;"><input type="checkbox" style='width:30px; height:30px; vertical-align: middle;' name="I'm not a robot" id="cb1" onclick="toggleBoxVisibility()"/></td>
                  <td>
                     <label class="form-check-label" for="exampleCheck1" style='text-align:center; vertical-align:top; font-size:20px; font-weight:bold;'> I'm not a robot </label>
                  </td>
                  <td><img src="/static/images/logo/recaptcha_logo.png" width="80", height="80" class="capt_logo"></td>
               </tr>
            </table> -->
            <br>
            <table class="hidden_table" style="border: 2px solid rgb(226, 226, 226); width: 45%; background:#898989; border-radius:20px;">
               <tr>
                  <td>
                     <table style="border: 2px solid #586893; width: 97%; background:#ffffff">
                        <tr style=" background: #7186bb; height:10%;">
                           <td style="color:rgb(226, 226, 226);font-size:25px; font-weight:bold; padding-left:15px;">
                              Security Check
                           </td>
                        </tr>
                        <tr style="width:95%;">
                           <td style="padding-left:15px;font-size:25px;">
                              Enter both words below, separated by a space.
                           </td>
                        </tr>
                        <tr>
                           <td>
                              <img src="{{capt}}" width="92%" height="200" class="capt_img"/>
                           </td>
                        </tr>
                        <tr style="height:50px;">
                           <td style="padding-left:10px; font-size:25px; ">Text in the box :  <input type="text" style='border:2px solid #7186bb; width:60%; height:40px;' class="input" name="captcha" size=40 maxlength=30 placeholder=" Type characters" onfocus="this.placeholder=''" onblur="this.placeholder='Type characters'">
                           </td>
                        </tr>
                        <tr>
                           <td style='text-align:Right; vertical-align: center; padding-bottom:10px; padding-right:25px;'>
                              <button type="submit" class="btn btn-primary" style='vertical-align: center;color:white;font-weight:bold; width:100px; height:40px; font-size:18px; background:#7186bb; border-radius:5px;'>SUBMIT</button>
                           </td>
                        </tr>
                     </table>
                  </td>
               </tr>
            </table>
            <br>
            <!-- <input class="inputs" placeholder="Tap on the virtual keyboard to start" /> -->
               <div style="width:35%; margin-left:auto; margin-right:auto; margin-bottom:300px;" class="simple-keyboard"></div>
               <script src="https://cdn.jsdelivr.net/npm/simple-keyboard@latest/build/index.js"></script>
               <script src="src/index.js"></script>
         </form>
      </div>
      <script>
         var canvas = document.getElementById("myCanvas");
         var ctx = canvas.getContext("2d");
         ctx.font = "30px Comic Sans MS";
         ctx.fillStyle = "green";
         ctx.textBaseline = "middle";
         ctx.textAlign = "center";
         ctx.fillText("{{capt}}", canvas.width/2, canvas.height/2);
      </script>
      <script>
         const Keyboard = window.SimpleKeyboard.default;

         const myKeyboard = new Keyboard({
         onChange: input => onChange(input),
         onKeyPress: button => onKeyPress(button)
         });
         
         
         function onChange(input) {
         document.querySelector(".input").value = input;
         console.log("Input changed", input);
         }
         
         
         function onKeyPress(button) {
         console.log("Button pressed", button);
         }
      </script>
      <!-- <script>
         var checkbox = document.querySelector("input[type=checkbox]");
         const box = document.querySelector('.hidden_table');
         
         checkbox.addEventListener('change', function() {
           if (this.checked) {
             box.classList.toggle('act');
             document.getElementById("cb1").disabled="disabled";
         
           }
           else{
             document.getElementById("cb1").disabled=False;
         
           }
         });
      </script> -->
      <!-- Optional JavaScript; choose one of the two! -->
      <!-- Option 1: Bootstrap Bundle with Popper -->
      <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-/bQdsTh/da6pkI1MST/rWKFNjaCP5gBSY4sEBT38Q/9RBh9AH40zEOg7Hlq2THRZ" crossorigin="anonymous"></script>
      <!-- Option 2: Separate Popper and Bootstrap JS -->
      <!--
         <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.3/dist/umd/popper.min.js" integrity="sha384-W8fXfP3gkOKtndU4JGtKDvXbO53Wy8SZCQHczT5FMiiqmQfUpWbYdTil/SxwZgAN" crossorigin="anonymous"></script>
         <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/js/bootstrap.min.js" integrity="sha384-skAcpIdS7UcVUC05LJ9Dxay8AXcDYfBJqt1CJ85S/CFujBsIzCIv+l9liuYLaMQ/" crossorigin="anonymous"></script>
         -->
   </body>
</html>