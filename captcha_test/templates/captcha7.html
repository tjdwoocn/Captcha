{% load static %}

<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-F3w7mX95PdgyTmZZMECAngseQB83DfGTowi0iMjiWaeVhAn4FJkqJByhZMI3AhiU" crossorigin="anonymous">
    <title>CAPTCHA</title>
    <style>
			img { display: block; margin: 0px auto; }
      table {
        width: 100%;
        margin: 0px auto;
      }
      #img_table td{
        border:none;
        {% comment %} border: 20px solid #ffffec; {% endcomment %}
      }
      #hidden_table{
        visibility: hidden;
      }
      
      

		</style>
  </head>
  <body>
    <div><img src="/static/images/logo/{{logo}}.jpg" width="210", height="80" class="img_logo" style='display:block; margin:10px auto;'/></div>
    <div class="container">
        <form action="{% url 'submit' %}" method='post'>
            {% csrf_token %}

          <table style="border: 1px solid rgb(161, 161, 161); width: 400px; height: 80px; ">
              <tr>
                <td style="text-align:center;"><input type="checkbox" style='width:30px; height:30px; vertical-align: middle;' name="I'm not a robot" id="cb1" onclick="toggleBoxVisibility()"/></td>
                <td>
                  <label class="form-check-label" for="exampleCheck1" style='text-align:center; vertical-align:top; font-size:20px; font-weight:bold;'> I'm not a robot </label>
                </td>
                <td><img src="/static/images/logo/recaptcha_logo.png" width="80", height="80" class="capt_logo"></td>
              </tr>
          </table>
            <br>

            <table id="hidden_table" style="border: 2px solid rgb(226, 226, 226); width: 700px; height: 450px;background:#898989; border-radius:20px;">
              <tr>
                <td>
                  <table style="border: 2px solid #586893; width: 670px; height: 270px; background:#ffffff">
                    <tr style=" background: #7186bb; height:45px;">
                      <td style="color:rgb(226, 226, 226);font-size:25px; font-weight:bold; padding-left:10px;">
                        Security Check
                      </td>
                    </tr>
                    <tr style="height:50px;">
                      <td style="padding-left:10px;font-size:20px;">
                        Enter both words below, separated by a space.
                      </td>
                    </tr>
                    <tr>
                      <td style="padding-left:10px;">
                        <img src="{{capt}}" width="555", height="180" class="capt_img"/>
                      </td>
                    </tr>
                    <tr style="height:50px;">
                      <td style="padding-left:10px; font-size:20px; ">Text in the box :  <input type="text" style='border:2px solid #7186bb; height:40px;' class=" mt-3 mb-3" name="captcha" size=40 maxlength=30 placeholder=" Type characters" onfocus="this.placeholder=''" onblur="this.placeholder='Type characters'">
                      </td>
                    </tr>
                    <tr>
                      <td style='text-align:Right; vertical-align: center; padding-bottom:10px; padding-right:10px;'>
                        <button type="submit" class="btn btn-primary" style='vertical-align: center;color:white;font-weight:bold; width:100px; height:40px; font-size:18px; background:#7186bb; border-radius:5px;'>SUBMIT</button>
                      </td>
                    </tr>
                  </table>
                </td>
              </tr>                    
            </table>

          </form>
    </div>

    <script>
        var canvas = document.getElementById("myCanvas");
        var ctx = canvas.getContext("2d");
        ctx.font = "30px Comic Sans MS";
        ctx.fillStyle = "green";
        ctx.textBaseline = "middle";
        ctx.textAlign = "center";
        ctx.fillText("{{capt}}", canvas.width/2, canvas.height/2);
    </script>

    <script>
      function toggleBoxVisibility(){
        if (document.getElementById("cb1").checked == true){
          document.getElementById("hidden_table").style.visibility="visible";
          document.getElementById("cb1").disabled="disabled";

        }
        else{
          document.getElementById("hidden_table").style.visibility="hidden";
        }
      }
    </script>

    <!-- Optional JavaScript; choose one of the two! -->

    <!-- Option 1: Bootstrap Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-/bQdsTh/da6pkI1MST/rWKFNjaCP5gBSY4sEBT38Q/9RBh9AH40zEOg7Hlq2THRZ" crossorigin="anonymous"></script>

    <!-- Option 2: Separate Popper and Bootstrap JS -->
    <!--
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.3/dist/umd/popper.min.js" integrity="sha384-W8fXfP3gkOKtndU4JGtKDvXbO53Wy8SZCQHczT5FMiiqmQfUpWbYdTil/SxwZgAN" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/js/bootstrap.min.js" integrity="sha384-skAcpIdS7UcVUC05LJ9Dxay8AXcDYfBJqt1CJ85S/CFujBsIzCIv+l9liuYLaMQ/" crossorigin="anonymous"></script>
    -->
  </body>
</html>