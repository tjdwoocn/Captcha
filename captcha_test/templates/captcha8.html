{% load static %}
<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-F3w7mX95PdgyTmZZMECAngseQB83DfGTowi0iMjiWaeVhAn4FJkqJByhZMI3AhiU" crossorigin="anonymous">
    <title>CAPTCHA</title>
    <style>
      img {
        display: block;
        margin: 0px auto;
      }

      table {
        margin: 0px auto;
      }

      .main_container {
        margin-right: 0px auto;
        margin-left: 0px auto;
        margin-top: 300px;
      }

      .img_logo {
        width: 50%;
        height: 25%;
        margin-bottom: 60px;
      }

      .hidden_table {
        background: linear-gradient(180deg, rgba(238, 174, 202, 1) 0%, rgba(148, 187, 233, 1) 100%);
        border: 2px solid rgb(226, 226, 226);
        width: 95%;
        height: 1000px;
        margin-bottom: 300px;
        animation-duration: 1s;
        animation-name: autoplay1
      }

      @keyframes autoplay1 {
        from {
          opacity: 0;
        }

        to {
          opacity: 100;
        }
      }

      .info_table {
        border: 2px solid rgb(226, 226, 226);
        background: #4e94e9;
        width: 80%;
        height: 135px;
        margin: 5px auto;
      }

      .info_td_1 {
        color: #ffffec;
        text-align: left;
        font-weight: bold;
        vertical-align: middle;
        font-size: 32px;
        padding-left: 20px;
        padding-top: 15px;
      }

      .info_td_2 {
        color: #ffffec;
        text-align: left;
        font-weight: bold;
        vertical-align: middle;
        font-size: 55px;
        padding-left: 20px;
      }

      .info_td_3 {
        color: #ffffec;
        text-align: left;
        font-weight: bold;
        vertical-align: middle;
        font-size: 19px;
        padding-left: 20px;
        padding-bottom: 20px;
      }

      .img_table {
        border: 2px solid rgb(226, 226, 226);
        width: 95%;
        height: 690px;
      }

      .img_table td {
        border: none;
      }

      .row {
        display: grid;
        grid-template-columns: 1fr;
        margin-left: 0px;
        width: 100% < !-- width:120px;
        -->< !-- border-width: 0px;
        -->
      }

      .row label {
        cursor: pointer;
        padding: 0px;
        < !-- padding-right: 0px;
        -->width: 100%;
      }

      .row label input[type="checkbox"] {
        display: none;
        < !-- padding: 0px;
        -->width: 100%;
      }

      .row label .icon-box {
        width: 100%;
        flex-direction: column;
        align-items: center;
        background-color: #fff;
        border-radius: 1px;
        transition: 0.5s;
        user-select: none;
        padding: 3px;
      }

      .row label input[type="checkbox"]:checked~.icon-box {
        background: linear-gradient(138deg, #da2c4d, #f8ab37);
      }

      .option_td {
        text-align: Right;
        vertical-align: center;
        padding-bottom: 2%;
        padding-left: 3%;
        padding-right: 3%;
      }

      .option_img {
        float: Left;
        vertical-align: middle;
        width: 23%;
      }

      .submit_btn {
        vertical-align:
          center;
        color: white;
        font-size: 28px;
        font-weight: bold;
        width: 20%;
        height: 60px;
        background: #4e94e9;
        border-radius: 5px;
      }

      @media only screen and (max-device-width: 480px) {

        /* For mobile phones: */
        img {
          display: block;
          margin: 0px auto;
        }

        table {
          margin: 0px auto;
        }

        .main_container {
          margin-right: 0px auto;
          margin-left: 0px auto;
          margin-top: 50px;
        }

        .img_logo {
          width: 50%;
          height: 25%;
          margin-bottom: 0px;
        }

        .hidden_table {
          background: linear-gradient(180deg, rgba(238, 174, 202, 1) 0%, rgba(148, 187, 233, 1) 100%);
          border: 2px solid rgb(226, 226, 226);
          width: 95%;
          height: 400px;
          margin-bottom: 10px;
          animation-duration: 1s;
          animation-name: autoplay1
        }

        @keyframes autoplay1 {
          from {
            opacity: 0;
          }

          to {
            opacity: 100;
          }
        }

        .info_table {
          border: 2px solid rgb(226, 226, 226);
          background: #4e94e9;
          width: 80%;
          height: 45px;
          margin: 5px auto;
        }

        .info_td_1 {
          color: #ffffec;
          text-align: left;
          font-weight: bold;
          vertical-align: middle;
          font-size: 15px;
          padding-left: 10px;
          padding-top: 10px;
        }

        .info_td_2 {
          color: #ffffec;
          text-align: left;
          font-weight: bold;
          vertical-align: middle;
          font-size: 22px;
          padding-left: 10px;
        }

        .info_td_3 {
          color: #ffffec;
          text-align: left;
          font-weight: bold;
          vertical-align: middle;
          font-size: 15px;
          padding-left: 10px;
          padding-bottom: 10px;
        }

        .img_table {
          border: 2px solid rgb(226, 226, 226);
          width: 93%;
          height: 300px;
        }

        .img_table td {
          border: none;
        }

        .row {
          display: grid;
          grid-template-columns: 1fr;
          margin-left: 0px;
          width: 100% < !-- width:120px;
          -->< !-- border-width: 0px;
          -->
        }

        .row label {
          cursor: pointer;
          padding: 0px;
          < !-- padding-right: 0px;
          -->width: 100%;
        }

        .row label input[type="checkbox"] {
          display: none;
          < !-- padding: 0px;
          -->width: 100%;
        }

        .row label .icon-box {
          width: 88%;
          flex-direction: column;
          align-items: center;
          background-color: #fff;
          border-radius: 1px;
          transition: 0.5s;
          user-select: none;
          padding: 2px;
        }

        .row label input[type="checkbox"]:checked~.icon-box {
          background: linear-gradient(138deg, #da2c4d, #f8ab37);
        }

        .icon_span {
          width: 100%;
          height: 70px;
        }

        .option_td {
          text-align: Right;
          vertical-align: center;
          padding-bottom: 2%;
          padding-left: 3%;
          padding-right: 3%;
        }

        .option_img {
          float: Left;
          vertical-align: middle;
          width: 23%;
        }

        .submit_btn {
          vertical-align:
            center;
          color: white;
          font-size: 13px;
          font-weight: bold;
          width: 20%;
          height: 25px;
          background: #4e94e9;
          border-radius: 5px;
        }
      }

      @media only screen and (min-device-width : 600px) and (orientation : portrait) {

        /* ipad-vertical */
        img {
          display: block;
          margin: 0px auto;
        }

        table {
          margin: 0px auto;
        }

        .main_container {
          margin-right: 0px auto;
          margin-left: 0px auto;
          margin-top: 300px;
        }

        .img_logo {
          width: 50%;
          height: 25%;
          margin-bottom: 60px;
        }

        .hidden_table {
          background: linear-gradient(180deg, rgba(238, 174, 202, 1) 0%, rgba(148, 187, 233, 1) 100%);
          border: 2px solid rgb(226, 226, 226);
          width: 95%;
          height: 1000px;
          margin-bottom: 300px;
          animation-duration: 1s;
          animation-name: autoplay1
        }

        @keyframes autoplay1 {
          from {
            opacity: 0;
          }

          to {
            opacity: 100;
          }
        }

        .info_table {
          border: 2px solid rgb(226, 226, 226);
          background: #4e94e9;
          width: 80%;
          height: 135px;
          margin: 5px auto;
        }

        .info_td_1 {
          color: #ffffec;
          text-align: left;
          font-weight: bold;
          vertical-align: middle;
          font-size: 32px;
          padding-left: 20px;
          padding-top: 15px;
        }

        .info_td_2 {
          color: #ffffec;
          text-align: left;
          font-weight: bold;
          vertical-align: middle;
          font-size: 55px;
          padding-left: 20px;
        }

        .info_td_3 {
          color: #ffffec;
          text-align: left;
          font-weight: bold;
          vertical-align: middle;
          font-size: 19px;
          padding-left: 20px;
          padding-bottom: 20px;
        }

        .img_table {
          border: 2px solid rgb(226, 226, 226);
          width: 95%;
          height: 690px;
        }

        .img_table td {
          border: none;
        }

        .row {
          display: grid;
          grid-template-columns: 1fr;
          margin-left: 0px;
          width: 100% < !-- width:120px;
          -->< !-- border-width: 0px;
          -->
        }

        .row label {
          cursor: pointer;
          padding: 0px;
          < !-- padding-right: 0px;
          -->width: 100%;
        }

        .row label input[type="checkbox"] {
          display: none;
          < !-- padding: 0px;
          -->width: 100%;
        }

        .row label .icon-box {
          width: 100%;
          flex-direction: column;
          align-items: center;
          background-color: #fff;
          border-radius: 1px;
          transition: 0.5s;
          user-select: none;
          padding: 3px;
        }

        .row label input[type="checkbox"]:checked~.icon-box {
          background: linear-gradient(138deg, #da2c4d, #f8ab37);
        }

        .option_td {
          text-align: Right;
          vertical-align: center;
          padding-bottom: 2%;
          padding-left: 3%;
          padding-right: 3%;
        }

        .option_img {
          float: Left;
          vertical-align: middle;
          width: 23%;
        }

        .submit_btn {
          vertical-align:
            center;
          color: white;
          font-size: 28px;
          font-weight: bold;
          width: 20%;
          height: 60px;
          background: #4e94e9;
          border-radius: 5px;
        }
      }
    </style>
  </head>
  <body>
    <div class="main_container">
      <img src="/static/images/logo/{{logo}}.jpg" class="img_logo" />
    </div>
    <div class="container">
      <form action="{% url 'submit' %}" method='post'> {% csrf_token %} <br>
        <table class="hidden_table">
          <tr style="vertical-align: baseline; ">
            <td>
              <table class="info_table">
                <tr>
                  <td class="info_td_1">Select all squares with</td>
                <tr>
                  <td class="info_td_2">{{capt}}</td>
                </tr>
                <tr>
                  <td class="info_td_3"></td>
                </tr>
                <tr></tr>
              </table>
              <table class='img_table'>
					<tr>
                  {% for img in sliced_img_paths %}
						<td>
					      <div class="row">
                        <label>
                        <input id="img_cb" type="checkbox" name="selected" value="{{capt}}_{{img}}" />
                        <div class="icon-box">
                        <span>
                           <img src="{{img}}" class="icon_span">
                        </span>
                     </div>
                        </label>
                     </div>
                  </td> {# if the the forloop counter is divisible by 4, close the 
													<li> tag and open a new one #} {% if forloop.counter|divisibleby:4 %} </tr>
    <tr> {% endif %} {% endfor %} </tr>
    </table>
    </td>
    </tr>
    <tr>
      <td class="option_td">
        <img class="option_img" src="/static/images/logo/option_icon.png">
        <button type="submit" class="submit_btn">SUBMIT</button>
      </td>
    </tr>
    </table>
    </form>
    </div>
    <script>
      var canvas = document.getElementById("myCanvas");
      var ctx = canvas.getContext("2d");
      ctx.font = "30px Comic Sans MS";
      ctx.fillStyle = "green";
      ctx.textBaseline = "middle";
      ctx.textAlign = "center";
      ctx.fillText("{{capt}}", canvas.width / 2, canvas.height / 2);
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-/bQdsTh/da6pkI1MST/rWKFNjaCP5gBSY4sEBT38Q/9RBh9AH40zEOg7Hlq2THRZ" crossorigin="anonymous"></script>
  </body>
</html>